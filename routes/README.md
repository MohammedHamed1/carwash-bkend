# Routes Structure Documentation

## ๐ **ูููู ุงููููุงุช**

```
routes/
โโโ index.js          # ุงูููู ุงูุฑุฆูุณู - ูุฌูุน ุฌููุน ุงูุฑุงูุชุณ
โโโ api.js            # ุฑุงูุชุณ API ุงูุฑุฆูุณูุฉ
โโโ test.js           # ุฑุงูุชุณ ุงูุงุฎุชุจุงุฑ ูุงูุจูุงูุงุช ุงูููููุฉ
โโโ utils.js          # ุงูุฏูุงู ุงููุณุงุนุฏุฉ ุงููุดุชุฑูุฉ
โโโ validation.js     # ููุงุนุฏ ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช
โโโ middleware.js     # ุงููุณุงุฆุท ุงูุจุฑูุฌูุฉ ุงููุดุชุฑูุฉ
โโโ config.js         # ุฅุนุฏุงุฏุงุช ูุซูุงุจุช ุงูุฑุงูุชุณ
โโโ example.js        # ุฃูุซูุฉ ุนูู ุงูุงุณุชุฎุฏุงู
โโโ README.md         # ูุฐุง ุงูููู
```

## ๐๏ธ **ุงูุจููุฉ ุงูุฌุฏูุฏุฉ**

### **1. `routes/index.js` - ุงูููู ุงูุฑุฆูุณู**
- ูุฌูุน ุฌููุน ุงูุฑุงูุชุณ
- ูุนุฑุถ ูุซุงุฆู API
- ูุชุนุงูู ูุน ุงูุฃุฎุทุงุก (404)
- ููุธู ูููู ุงูุฑุงูุชุณ

### **2. `routes/api.js` - ุฑุงูุชุณ API**
- ุฑุงูุชุณ ุงููุณุชุฎุฏููู (`/api/user/*`)
- ุฑุงูุชุณ ุงูุจุงูุงุช (`/api/packages/*`)
- ุฑุงูุชุณ ุงูุทูุจุงุช (`/api/washes/*`)
- ุฑุงูุชุณ ุงููุฏููุนุงุช (`/api/payments/*`)
- ุฑุงูุชุณ ุงูุณูุงุฑุงุช (`/api/cars/*`)
- ุฑุงูุชุณ ุงูุชููููุงุช (`/api/feedbacks/*`)
- ุฑุงูุชุณ ุงููุฑูุน (`/api/washing-places/*`)
- ุฑุงูุชุณ ุจุงูุงุช ุงููุณุชุฎุฏู (`/api/user-package/*`)
- ุฑุงูุชุณ ุงูุฅุญุตุงุฆูุงุช (`/api/statistics/*`)
- ุฑุงูุชุณ ููุญุฉ ุงูุชุญูู (`/api/dashboard/*`)
- ุฑุงูุชุณ ูุธุงู QR (`/api/qr/*`)

### **3. `routes/test.js` - ุฑุงูุชุณ ุงูุงุฎุชุจุงุฑ**
- ุฑุงูุชุณ ุงูุงุฎุชุจุงุฑ (`/test`, `/health`)
- ุจูุงูุงุช ููููุฉ ููุงุฎุชุจุงุฑ
- ูุญุงูุงุฉ ุงูุจูุงูุงุช

### **4. `routes/utils.js` - ุงูุฏูุงู ุงููุณุงุนุฏุฉ**
- ุฏูุงู ุชูุณูู ุงูุงุณุชุฌุงุจุงุช
- ุฏูุงู ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
- ุฏูุงู ุงูุจุญุซ ูุงูุชุตููุฉ
- ุฏูุงู ุงูุชุตุฏูุฑ ูุงูุชุณุฌูู

### **5. `routes/validation.js` - ููุงุนุฏ ุงูุชุญูู**
- ููุงุนุฏ ุงูุชุญูู ูู ุงููุณุชุฎุฏููู
- ููุงุนุฏ ุงูุชุญูู ูู ุงูุจุงูุงุช
- ููุงุนุฏ ุงูุชุญูู ูู ุงูุทูุจุงุช
- ููุงุนุฏ ุงูุชุญูู ูู ุงููุฏููุนุงุช
- ููุงุนุฏ ุงูุชุญูู ูู ุงูุณูุงุฑุงุช

### **6. `routes/middleware.js` - ุงููุณุงุฆุท ุงูุจุฑูุฌูุฉ**
- ูุณุงุฆุท ุงููุตุงุฏูุฉ ูุงูุชูููุถ
- ูุณุงุฆุท ุชุญุฏูุฏ ูุนุฏู ุงูุทูุจุงุช
- ูุณุงุฆุท ุชุณุฌูู ุงูุทูุจุงุช ูุงูุฃุฎุทุงุก
- ูุณุงุฆุท ุงูุฃูุงู ูุงูุชุฎุฒูู ุงููุคูุช
- ูุณุงุฆุท ุฑูุน ุงููููุงุช

### **7. `routes/config.js` - ุฅุนุฏุงุฏุงุช ูุซูุงุจุช ุงูุฑุงูุชุณ**
- ุฅุนุฏุงุฏุงุช API ูุงูุซูุงุจุช
- ุฑุณุงุฆู ุงููุฌุงุญ ูุงูุฎุทุฃ
- ุฑููุฒ ุงูุญุงูุฉ HTTP
- ุฃููุงุน ุงูุจูุงูุงุช ูุงูุฃููุงุท

### **8. `routes/example.js` - ุฃูุซูุฉ ุนูู ุงูุงุณุชุฎุฏุงู**
- ุฃูุซูุฉ ุนูู CRUD operations
- ุฃูุซูุฉ ุนูู ุงูุจุญุซ ูุงูุชุตููุฉ
- ุฃูุซูุฉ ุนูู ุงูุฅุญุตุงุฆูุงุช
- ุฃูุซูุฉ ุนูู ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก

## ๐ **ููููุฉ ุงูุงุณุชุฎุฏุงู**

### **ุฅุถุงูุฉ ุฑุงูุช ุฌุฏูุฏ:**

#### **1. ุฅูุดุงุก ุฑุงูุช ูู ููู API ููุฌูุฏ:**
```javascript
// ูู routes/api.js
router.get("/new-endpoint", (req, res) => {
  // ููุทู ุงูุฑุงูุช
});
```

#### **2. ุฅูุดุงุก ุฑุงูุช ูู ููู ูููุตู:**
```javascript
// ูู modules/newModule/newModule.routes.js
const express = require('express');
const router = express.Router();

router.get('/', (req, res) => {
  // ููุทู ุงูุฑุงูุช
});

module.exports = router;
```

#### **3. ุฑุจุท ุงูุฑุงูุช ุงูุฌุฏูุฏ:**
```javascript
// ูู routes/api.js
router.use("/new-module", require("../modules/newModule/newModule.routes"));
```

### **ุฅุถุงูุฉ ุฑุงูุช ุงุฎุชุจุงุฑ:**
```javascript
// ูู routes/test.js
router.get("/test-endpoint", (req, res) => {
  res.json({ message: "Test endpoint" });
});
```

### **ุงุณุชุฎุฏุงู ุงูุฏูุงู ุงููุณุงุนุฏุฉ:**
```javascript
// ูู ุฃู ุฑุงูุช
const { sendSuccess, sendError, asyncHandler } = require('./utils');

router.get('/data', asyncHandler(async (req, res) => {
  const data = await getData();
  return sendSuccess(res, data, 'ุชู ุฌูุจ ุงูุจูุงูุงุช ุจูุฌุงุญ');
}));
```

### **ุงุณุชุฎุฏุงู ููุงุนุฏ ุงูุชุญูู:**
```javascript
// ูู ุฃู ุฑุงูุช
const { userValidation } = require('./validation');

router.post('/register', userValidation.register, (req, res) => {
  // ููุทู ุงูุชุณุฌูู
});
```

### **ุงุณุชุฎุฏุงู ุงููุณุงุฆุท ุงูุจุฑูุฌูุฉ:**
```javascript
// ูู ุฃู ุฑุงูุช
const { authenticateToken, authorizeAdmin, apiRateLimit } = require('./middleware');

router.get('/admin/data', 
  authenticateToken, 
  authorizeAdmin, 
  apiRateLimit, 
  (req, res) => {
    // ููุทู ุงูุฑุงูุช
  }
);
```

## ๐ **ุฃูุซูุฉ ุนูู ุงูุฑุงูุชุณ**

### **ุฑุงูุชุณ API:**
```
GET    /api/user/profile          # ุฌูุจ ุงูููู ุงูุดุฎุตู
POST   /api/user/login            # ุชุณุฌูู ุงูุฏุฎูู
GET    /api/packages              # ุฌูุจ ุงูุจุงูุงุช
POST   /api/washes                # ุฅูุดุงุก ุทูุจ ุบุณูู
GET    /api/dashboard/stats       # ุฅุญุตุงุฆูุงุช ููุญุฉ ุงูุชุญูู
```

### **ุฑุงูุชุณ ุงูุงุฎุชุจุงุฑ:**
```
GET    /test                      # ุงุฎุชุจุงุฑ API
GET    /health                    # ุญุงูุฉ ุงูุฎุงุฏู
GET    /users                     # ุจูุงูุงุช ููููุฉ ูููุณุชุฎุฏููู
GET    /packages                  # ุจูุงูุงุช ููููุฉ ููุจุงูุงุช
```

## ๐ง **ุฅุนุฏุงุฏุงุช ูุชูุฏูุฉ**

### **ุฅุถุงูุฉ Middleware:**
```javascript
// ูู routes/api.js
const auth = require('../middleware/auth');

router.use('/protected', auth, (req, res, next) => {
  // ุฑุงูุชุณ ูุญููุฉ
});
```

### **ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก:**
```javascript
router.use((error, req, res, next) => {
  res.status(500).json({
    success: false,
    message: error.message
  });
});
```

### **Validation:**
```javascript
const { body, validationResult } = require('express-validator');

router.post('/endpoint', [
  body('email').isEmail(),
  body('password').isLength({ min: 6 })
], (req, res) => {
  const errors = validationResult(req);
  if (!errors.isEmpty()) {
    return res.status(400).json({ errors: errors.array() });
  }
  // ููุทู ุงูุฑุงูุช
});
```

## ๐ **ูููู ุงูุงุณุชุฌุงุจุฉ**

### **ุงุณุชุฌุงุจุฉ ูุงุฌุญุฉ:**
```json
{
  "success": true,
  "message": "ุชู ุชูููุฐ ุงูุนูููุฉ ุจูุฌุงุญ",
  "data": {
    // ุงูุจูุงูุงุช ุงููุทููุจุฉ
  }
}
```

### **ุงุณุชุฌุงุจุฉ ุฎุทุฃ:**
```json
{
  "success": false,
  "message": "ุญุฏุซ ุฎุทุฃ",
  "error": "ุชูุงุตูู ุงูุฎุทุฃ"
}
```

## ๐ฏ **ุฃูุถู ุงูููุงุฑุณุงุช**

1. **ุงุณุชุฎุฏู ุงูุชุนูููุงุช** ูุชูุถูุญ ูุธููุฉ ูู ุฑุงูุช
2. **ูุธู ุงูุฑุงูุชุณ** ุญุณุจ ุงููุธููุฉ
3. **ุงุณุชุฎุฏู Middleware** ูููุตุงุฏูุฉ ูุงูุชุญูู
4. **ุนุงูุฌ ุงูุฃุฎุทุงุก** ุจุดูู ููุงุณุจ
5. **ูุซู ุงูุฑุงูุชุณ** ุจุดูู ูุงุถุญ
6. **ุงุฎุชุจุฑ ุงูุฑุงูุชุณ** ูุจู ุงููุดุฑ

## ๐ **ุงุฎุชุจุงุฑ ุงูุฑุงูุชุณ**

### **ุงุฎุชุจุงุฑ ูุญูู:**
```bash
# ุชุดุบูู ุงูุฎุงุฏู
npm start

# ุงุฎุชุจุงุฑ ุฑุงูุช
curl http://localhost:3000/test
```

### **ุงุฎุชุจุงุฑ Postman:**
- ุงุณุชูุฑุฏ ููู Postman Collection
- ุงุฎุชุจุฑ ุฌููุน ุงูุฑุงูุชุณ
- ุชุญูู ูู ุงูุงุณุชุฌุงุจุงุช

## ๐ **ููุงุญุธุงุช ูููุฉ**

- ุฌููุน ุฑุงูุชุณ API ุชุจุฏุฃ ุจู `/api`
- ุฑุงูุชุณ ุงูุงุฎุชุจุงุฑ ูุชุงุญุฉ ูุจุงุดุฑุฉ
- ุงุณุชุฎุฏู Middleware ูููุตุงุฏูุฉ ุนูุฏ ุงูุญุงุฌุฉ
- ูุซู ุฃู ุชุบููุฑุงุช ูู ูุฐุง ุงูููู
